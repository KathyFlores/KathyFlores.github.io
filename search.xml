<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title><![CDATA[外包项目总结]]></title>
      <url>/2018/03/26/%E5%A4%96%E5%8C%85%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/</url>
      <content type="html"><![CDATA[<blockquote>
<p>去年年末时脑子一抽接了个外包，甲方是浙财的大二的一个创业团队，对技术方面完全不懂，整个过程有点迷。。还好任务难度不大，主要是做一个外国人在国内求职的信息聚合网站，整个开发过程历时半个月，在此将开发过程中遇到的问题记录下来。</p>
</blockquote>
<h4 id="Goals（copy甲方的要求）"><a href="#Goals（copy甲方的要求）" class="headerlink" title="Goals（copy甲方的要求）"></a>Goals（copy甲方的要求）</h4><ol>
<li><p>收集应聘者的个人资料，包括自我简介、简历以及自我介绍的视频。网站上有上传文本和视频的功能，应聘者可以自行上传资料，后台自动打包保存在服务器里。为了保证人才的质量，后台需具备人工筛选的功能，符合最低要求的简历和处理过视频内敏感信息的视频会由后台再放在网站上，供客户浏览挑选。如果有符合客户要求的应聘者的资料，客户可以选择信息的收藏和下载。这是一个收集信息再放出信息的过程。</p>
<p>以下是一些具体细节：</p>
<ul>
<li>上传：应聘者通过网站自带模版填写相应的简介后保存，大致包括姓名、性别、年龄、国籍、学历、专业、意向岗位等，并上传简历和视频。自我介绍的视频时长不超过2分钟，格式要求mp4（或者方便网页使用的）。简历以word或者pdf形式上传。</li>
<li>视频观看：后台先筛选之后才能放在平台上供客户查看，视频播放中有播放进度控制按钮、暂停键和全屏与缩小选项。</li>
<li>检索：需要设计一个检索，将应聘者按地区，国籍进行分类，同时也应该有一个搜索栏，可以直接搜索国籍地区，用于方便客户查找。对留学生信息的检索。设置洲和国家二级栏目。</li>
</ul>
</li>
<li><p>网站还要能放上企业的招聘公告，这是雇主与雇员双方信息交互的过程。招聘公告通过岗位分类，也可以通过岗位进行检索。网站界面上还应设置公示栏，公开宣布企业与雇员配对成功的案例，以此来振奋人心，吸引人气！</p>
</li>
</ol>
<h3 id="框架"><a href="#框架" class="headerlink" title="框架"></a>框架</h3><p>​    Django1.8 + python3</p>
<h3 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h3><ol>
<li><p>采用默认用户认证系统条件下创建两种用户类型</p>
<ul>
<li><p>参照<a href="https://stackoverflow.com/questions/9650133/django-multiple-user-profiles" target="_blank" rel="noopener">stackoverflow</a>的回答，首先自定义一个UserProfile类</p>
<pre><code class="python">from django.db import models
from django.contrib.auth.models import AbstractUser
from django.db.models.signals import post_save
from django.utils.translation import ugettext_lazy as _
# Create your models here.

class UserProfile(AbstractUser):
    USER_TYPE = ((0,&#39;Jobseeker&#39;),(1,&#39;Employer&#39;))
    isEmployer = models.BooleanField(choices=USER_TYPE,default=0)
</code></pre>
</li>
<li><p>接着定义两种用户类型，其中一个字段是与UserProfile一一映射</p>
<pre><code class="python">class Jobseeker(models.Model):
    user = models.OneToOneField(UserProfile, on_delete=models.CASCADE, primary_key=True)
    ...
</code></pre>
<pre><code class="python">class Employer(models.Model):
    user = models.OneToOneField(UserProfile, on_delete=models.CASCADE, primary_key=True)
    ...
</code></pre>
</li>
<li><p>⚠️注意：要将settings.py中的用户类型修改为UserProfile</p>
<pre><code class="python">AUTH_USER_MODEL = &#39;accounts.UserProfile&#39;
</code></pre>
</li>
</ul>
</li>
<li><p>国际化</p>
<ul>
<li><p>参照<a href="https://code.ziqiangxuetang.com/django/django-internationalization.html" target="_blank" rel="noopener">自强学堂</a>和<a href="https://docs.djangoproject.com/en/1.8/topics/i18n/" target="_blank" rel="noopener">django文档</a></p>
</li>
<li><p>//Mac上配置gettext（参照<a href="https://stackoverflow.com/questions/27220052/django-i18n-make-sure-you-have-gnu-gettext-tools" target="_blank" rel="noopener">stackoverflow</a>）</p>
<pre><code class="shell">brew install gettext
brew link gettext --force
</code></pre>
<p>ps.第二句不安全，本应按照高赞回答来的，但是为了省事还是选择了不安全的做法……</p>
</li>
<li><p>在settings.py中进行如下设置：</p>
<pre><code class="python">MIDDLEWARE_CLASSES = ( 
    ...
    &#39;django.middleware.locale.LocaleMiddleware&#39;,
    ...
)
...
TEMPLATES = [
    {
        ...
        &#39;OPTIONS&#39;: {
            &#39;context_processors&#39;: [

                &#39;django.template.context_processors.debug&#39;,
                &#39;django.template.context_processors.request&#39;,
                &#39;django.template.context_processors.media&#39;,
                &#39;django.contrib.auth.context_processors.auth&#39;,
                &#39;django.contrib.messages.context_processors.messages&#39;,
                &#39;django.core.context_processors.i18n&#39;, # 重点是这个
            ],
        },
    },
]
LANGUAGE_CODE = &#39;zh-hans&#39;

TIME_ZONE = &#39;Asia/Shanghai&#39;

USE_I18N = True

USE_L10N = True

USE_TZ = True
LANGUAGES = (
    (&#39;en&#39;, _(&#39;English&#39;)),
    (&#39;zh-cn&#39;, _(&#39;Chinese&#39;)),

)
LOCALE_PATHS = (
    os.path.join(BASE_DIR, &#39;locale&#39;),
)
</code></pre>
</li>
<li><p>开发过程中的翻译</p>
<p>在urls.py中加入：</p>
<pre><code class="Python">urlpatterns = [
    url(r&#39;^i18n/&#39;, include(&#39;django.conf.urls.i18n&#39;)),
      ...
]
</code></pre>
<h4 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h4><p>import ugettext<em>lazy（不知道为啥起初我试ugettext就不起作用），需要翻译的字符串用</em>()包裹</p>
<pre><code class="python">from django.utils.translation import ugettext_lazy as _
class Job(models.Model):
    typeChoices = (
        (&#39;Fulltime&#39;,_(&#39;Full Time&#39;)),
        (&#39;Parttime&#39;,_(&#39;Part Time&#39;)),
        (&#39;Intern&#39;,_(&#39;Intern&#39;)),
        (&#39;Freelance&#39;,_(&#39;Freelance&#39;)),
    )
</code></pre>
<h4 id="Templates"><a href="#Templates" class="headerlink" title="Templates"></a>Templates</h4><p>每个模板（注意是每个）前都加上</p>
<pre><code class="django">{% load i18n %}
</code></pre>
<p>需要翻译的字符串使用&#123; % trans % &#125;标签包裹</p>
<pre><code class="django">{% trans 'Job Type' %}
</code></pre>
<h4 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h4><p>在根目录的urls.py下加入</p>
<pre><code class="python">from django.views.i18n import javascript_catalog

js_info_dict = {
    &#39;packages&#39;: (&#39;jobsite&#39;,),
}

urlpatterns += [
    url(r&#39;^jsi18n/$&#39;, javascript_catalog, js_info_dict, name=&quot;js_catalog&quot;),
]
</code></pre>
<p>然后在需要翻译的页面中加入</p>
<pre><code class="Django">&lt;script type=&quot;text/javascript&quot; src=&quot;{% url 'js_catalog' %}&quot;&gt;&lt;/script&gt;
</code></pre>
<p>待翻译的字符串用gettext()函数包裹</p>
<pre><code class="javascript">function(json) {
  console.log(json);
  if (json[&#39;res&#39;] == 1) {
    $(&#39;#modalContent&#39;).text(gettext(&quot;Successfully applied!&quot;));
  } else if (json[&#39;res&#39;] == 0) {
    $(&#39;#modalContent&#39;).text(gettext(&quot;You should log in first!&quot;));
  } else if (json[&#39;res&#39;] == 2) {
    $(&#39;#modalContent&#39;).text(gettext(&quot;You have applied for this job first!&quot;));
  } else if (json[&#39;res&#39;] == 3) {
    $(&#39;#modalContent&#39;).text(gettext(&quot;Your information has not been reviewed!&quot;));
  }
},
</code></pre>
</li>
<li><p>生成.po。</p>
<p>⚠️：中文一定要用zh_Hans，zh-cn、zh_CN、zh-hans等都是不对的（不过我也不知道为什么在本地开发时使用zh_hans也是ok的）。</p>
<p>后面加上-i venv是防止将虚拟运行环境中的待翻译字符串也一并加载进来</p>
<pre><code class="shell">python3 manage.py makemessages -l zh_Hans -i venv
python3 manage.py makemessages -l en -i venv
</code></pre>
<p>第一次创建目录以后再生成就可以不用这么麻烦了，直接</p>
<pre><code class="shell">python3 manage.py makemessages -a -i venv
</code></pre>
<p>但对于js，以上命令不适用，应使用</p>
<pre><code class="shell">python3 manage.py makemessages -e html,js -d djangojs -i venv
</code></pre>
</li>
<li><p>在locale目录下生成的.po文件中进行翻译，比如：</p>
<pre><code class="gettext">#: jobsite/templates/jobsite/base.html:94
msgid &quot;Home&quot;
msgstr &quot;主页&quot;
</code></pre>
<p>⚠️：包含#, fuzzy的词条不会正常翻译，应手动更改后删除#, fuzzy。</p>
</li>
<li><p>编译生成的.po</p>
<pre><code class="shell">python3 manage.py compilemessages
</code></pre>
<p>编译好以后应该可以正常显示了</p>
</li>
<li><p>留出一个切换语言的接口</p>
<pre><code class="html">&lt;form class=&quot;form-inline&quot; name=&quot;langform&quot; id=&quot;langform&quot; method=&#39;post&#39;&gt;
  {% csrf_token %}
  &lt;select class=&quot;form-control&quot; id=&quot;language&quot; name=&quot;language&quot; onchange=&quot;selectdo(this)&quot;&gt;
    &lt;option value=&quot;1&quot; &gt;Language: 
      {% get_language_info for LANGUAGE_CODE as lang %}
      {{ lang.name_local }}
    &lt;/option&gt;
    {% for lang in LANGUAGES %}
         <option value="{{ lang.0 }}"> {{ lang.1 }}</option>
         {% endfor %}
  &lt;/select&gt;
&lt;/form&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
  function selectdo(obj) {
    str = &quot;/i18n/setlang/&quot;;
    myform = document.getElementById(&#39;langform&#39;);
    myform.method = &quot;POST&quot;;
    myform.action = str;
    myform.submit();
  }
&lt;/script&gt;
</code></pre>
</li>
</ul>
</li>
<li><p>部署到服务器时发现无法访问静态文件，在urls.py中加入</p>
<pre><code class="python">from django.conf import settings
urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT) + static(settings.STATIC_URL, document_root=settings.STATIC_ROOT)
</code></pre>
<p>同时在/etc/nginx/sites-available/目录下添加ywzy.conf：</p>
<pre><code class="nginx">server {
    listen      80;
    server_name localhost;
    charset     utf-8;

    client_max_body_size 2G;
    keepalive_timeout 5;
    location /media  {
        alias /var/www/html/ywzy/media;
    }

    location /static {
        alias /var/www/html/ywzy/static;
    } 

    location / {
        proxy_pass  http://127.0.0.1:8001;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        include     /etc/nginx/uwsgi_params;
    }
}
</code></pre>
<p>然后链接至启用站点目录下</p>
<pre><code class="shell">sudo ln -s /etc/nginx/sites-available/ywzy.conf /etc/nginx/sites-enabled/ywzy.conf
rm /etc/nginx/sites-enables/default
</code></pre>
<p>重启nginx</p>
<pre><code class="shell">sudo service nginx restart
</code></pre>
</li>
<li><p>部署的过程中尝试了uwsgi（自强学堂推荐的），但不知道为什么总是报错，就用了gunicorn替代（这里gevent需要pip安装一下）</p>
<pre><code class="shell">gunicorn --chdir /var/www/html/ywzy --pythonpath venv/ --worker-class=gevent -b0.0.0.0:8001 -w4 ywzy.wsgi:application
</code></pre>
<p>管理进程也尝试了supervisor，但发现不支持pyhton3…于是使用nohup，日志记录在nohup.out中</p>
<pre><code class="shell">nohup gunicorn --chdir /var/www/html/ywzy --pythonpath venv/ --worker-class=gevent -b0.0.0.0:8001 -w4 ywzy.wsgi:application&amp;
</code></pre>
</li>
<li><p>服务器部署阶段还遇到了关于python版本和pip版本不对的问题。。。再加上有虚拟运行环境，这类问题频繁出现，最后发现只要保证启用虚拟运行环境以后运行python使用python3命令，运行pip使用pip3命令，大部分问题都能解决，面向google编程……</p>
</li>
</ol>
<h3 id="感想"><a href="#感想" class="headerlink" title="感想"></a>感想</h3><p>​    我还是太菜了……本以为能很快做完的……看来还需要努力</p>
]]></content>
      
        
    </entry>
    
    <entry>
      <title><![CDATA[博客搭建-material主题下评论系统完善]]></title>
      <url>/2018/02/20/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA-material%E4%B8%BB%E9%A2%98%E4%B8%8B%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E5%AE%8C%E5%96%84/</url>
      <content type="html"><![CDATA[<p>博客搭建至今，共尝试使用过很多个评论系统（如disqus、多说、gitment、gitalk等），我对评论系统大致有以下三点要求：1. 不用翻墙 2. 无需备案 3. 方便快捷。综合考虑，原本多说是比较好的一个选择，但是由于种种原因，多说在2017年6月已经关闭服务了，我便采用了disqus，但是奈何需要翻墙，总是让我这个强迫症有一点不爽。直到放了寒假，要把博客数据挪到mac上时才发现有了gitment和gitalk这两款利用github的issue功能搭建起来的轻便版评论系统，正合我意啊！因此便开始了不到黄河心不死，不撞南墙不回头的瞎鼓捣之旅。。。</p>
<h3 id="gitment与gitalk比较"><a href="#gitment与gitalk比较" class="headerlink" title="gitment与gitalk比较"></a>gitment与gitalk比较</h3><p><strong>同</strong></p>
<ul>
<li>均在前端直接引入，不需要后端代码</li>
<li>支持md、gfm和代码高亮</li>
<li>使用github账号登陆</li>
</ul>
<p><strong>异</strong></p>
<ul>
<li>gitment需要手动初始化每一篇的评论，而gitalk不需要</li>
</ul>
<p>虽然我的文章也不算多，但是由于实在太懒，便选择了gitalk。</p>
<p>链接附上：</p>
<p>gitment <a href="https://github.com/imsun/gitment" target="_blank" rel="noopener">https://github.com/imsun/gitment</a></p>
<p>gitalk <a href="https://github.com/gitalk/gitalk" target="_blank" rel="noopener">https://github.com/gitalk/gitalk</a></p>
<h3 id="gitalk配置过程"><a href="#gitalk配置过程" class="headerlink" title="gitalk配置过程"></a>gitalk配置过程</h3><p>详细的配置过程如其github的readme，由于我用的material主题内嵌了这两个评论系统，配置过程不大一样，便在此说明。</p>
<h4 id="1-注册-OAuth-Application"><a href="#1-注册-OAuth-Application" class="headerlink" title="1. 注册 OAuth Application"></a>1. 注册 OAuth Application</h4><p><a href="https://github.com/settings/applications/new" target="_blank" rel="noopener">点击此处</a> 来注册一个新的 OAuth Application。如实填写，注意最后一个callback url要填写自己博客的url。注册成功后得到一个client ID和client secret。</p>
<h4 id="2-在material主题配置文件中修改相关配置"><a href="#2-在material主题配置文件中修改相关配置" class="headerlink" title="2. 在material主题配置文件中修改相关配置"></a>2. 在material主题配置文件中修改相关配置</h4><pre><code class="yaml"># themes/material/_config.yml
...
comment:
    use: &quot;gitalk&quot;

    ...
    # gitment配置同gitalk
    gitment_repo: KathyFlores.github.io  # git repo of the hexo
    gitment_owner: KathyFlores # git repo&#39;s owner
    gitment_client_id: xxx # github app client id 第一步中得到的client ID
    gitment_client_secret : xxx # github app client secret 第一步中得到的client secret
    ...

    gitalk_repo: KathyFlores.github.io # git repo of the hexo
    gitalk_owner: KathyFlores # git repo&#39;s owner
    gitalk_client_id: xxx # github app client id 第一步中得到的client ID
    gitalk_client_secret: xxx # github app client secret 第一步中得到的client secret
...
</code></pre>
<h4 id="3-部署"><a href="#3-部署" class="headerlink" title="3. 部署"></a>3. 部署</h4><p>正常情况下，部署以后就会看到文章下成功出现了gitalk评论系统，登陆github账户以后也可以正常评论。但是我在实践过程中遇到了一个谜一样的报错：Error: Validation Failed。去gitalk项目的issue区看了看有一个人和我遇到了同样的问题，但不知道是什么原因，后来我发现是因为创建gitalk时会将当前post的url作为label创建一个issue，而issue的label长度最大只支持50个字符，如果文章标题有过多中文或长度太长，都会产生这个问题。</p>
<p>后续issue区有人提出，自行设定创建gitalk的id参数即可，可以用md5对url进行加密，也可直接截取前50个字符。我为了方便，选择了截取文章标题的前49个字符，在material主题下，只需修改themes/material/layout/_widget/gitalk/main.ejs:</p>
<pre><code class="ejs">&lt;!-- Gitalk 评论框 --&gt;
&lt;div id=&quot;gitalk-container&quot;&gt;&lt;/div&gt;

&lt;link rel=&quot;stylesheet&quot; href=&quot;https://unpkg.com/gitalk/dist/gitalk.css&quot;&gt;

&lt;script src=&quot;https://unpkg.com/gitalk/dist/gitalk.min.js&quot;&gt;&lt;/script&gt;

&lt;script&gt;
    var gitalk = new Gitalk({
            clientID: &#39;&lt;%= theme.comment.gitalk_client_id %&gt;&#39;,
            clientSecret: &#39;&lt;%= theme.comment.gitalk_client_secret %&gt;&#39;,
            repo: &#39;&lt;%= theme.comment.gitalk_repo %&gt;&#39;,
            owner: &#39;&lt;%= theme.comment.gitalk_owner %&gt;&#39;,
            admin: [&#39;&lt;%= theme.comment.gitalk_owner %&gt;&#39;],
            // facebook-like distraction free mode
            id: &#39;&lt;%=  page.title.substr(0,48) %&gt;&#39;, // 加了这一行
            distractionFreeMode: false
        })
   gitalk.render(&#39;gitalk-container&#39;)
&lt;/script&gt;
</code></pre>
<p>若使用gitment，具体做法类似，修改themes/material/layout/_widget/gitment/enter.ejs:</p>
<pre><code class="ejs">&lt;!-- 使用 gitcoment --&gt;
&lt;div id=&quot;gitment-comment&quot;&gt;
    &lt;%- partial(&#39;_widget/comment/&#39; + theme.comment.use + &#39;/main&#39;) %&gt;
&lt;/div&gt;
&lt;style&gt;
    #gitment-comment{
        background-color: #eee;
        padding: 2pc;
    }
&lt;/style&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;https://imsun.github.io/gitment/style/default.css&quot;&gt;
&lt;script src=&quot;https://imsun.github.io/gitment/dist/gitment.browser.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
    var gitment = new Gitment({
        //id: &#39;页面 ID&#39;, // 可选。默认为 location.href
        id: &#39;&lt;%=  page.title.substr(0,48) %&gt;&#39;, // 加上这一行
        owner: &#39;&lt;%= theme.comment.gitment_owner %&gt;&#39;,
        repo: &#39;&lt;%= theme.comment.gitment_repo %&gt;&#39;,
        oauth: {
            client_id: &#39;&lt;%= theme.comment.gitment_client_id %&gt;&#39;,
            client_secret: &#39;&lt;%= theme.comment.gitment_client_secret %&gt;&#39;,
        },
    })
    gitment.render(&#39;container&#39;)
&lt;/script&gt;
</code></pre>
<p>md5加密方法与我的做法大同小异，具体可参见<a href="https://priesttomb.github.io/日常/2018/02/12/处理Gitalk中由于文章URL过长导致的Validation-Failed%28422%29/" target="_blank" rel="noopener">@<strong>PriestTomb</strong>的文章</a>。</p>
]]></content>
      
        
    </entry>
    
    <entry>
      <title><![CDATA[PHP 命名空间]]></title>
      <url>/2017/04/04/PHP-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4/</url>
      <content type="html"><![CDATA[<h1 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h1><hr>
<blockquote>
<p>今天被计组的bug折磨了将近一整天，现在有点头昏脑胀。命名空间这节学的乱七八糟的，大多都是copy文档。之后有时间再慢慢消化。（又挖了个坑）清明假期终于要结束了，我还真是什么都没做呢，sad</p>
</blockquote>
<p><strong>命名空间</strong>是在PHP 5.3中加入的，最明确的目的就是解决重名问题。</p>
<h2 id="1-定义命名空间"><a href="#1-定义命名空间" class="headerlink" title="1 定义命名空间"></a>1 定义命名空间</h2><p>命名空间通过namespace声明，声明必须在其他代码前。<br>可以在同一文件中定义不同的命名空间。</p>
<p>命名空间有两种定义方式：</p>
<pre><code class="php">&lt;?php  
namespace MyProject1;  
// MyProject1 命名空间中的PHP代码  

namespace MyProject2;  
// MyProject2 命名空间中的PHP代码    

// 另一种定义方式
namespace MyProject3 
{  
 // MyProject3 命名空间中的PHP代码    
}  
?&gt;
</code></pre>
<p>在声明命名空间之前不能出现任何非PHP代码（包括空白符），唯一合法的代码是用于定义文件编码方式的语句，即<strong>程序脚本</strong>的第一条语句必须是<strong>命名空间声明</strong>或<strong>编码声明</strong>。</p>
<p>例如：</p>
<pre><code class="php">&lt;?php
declare(encoding=&#39;UTF-8&#39;); //定义多个命名空间和不包含在命名空间中的代码
namespace MyProject 
{
    const CONNECT_OK = 1;
    class Connection { /* ... */ }
    function connect() { /* ... */  }
}

namespace 
{ // 全局代码
    session_start();
    $a = MyProject\connect();
    echo MyProject\Connection::start();//类似文件路径的语法： \空间名\元素名
}
?&gt;
</code></pre>
<h2 id="2-命名空间使用"><a href="#2-命名空间使用" class="headerlink" title="2 命名空间使用"></a>2 命名空间使用</h2><p>PHP命名空间中的类名可以通过三种方式引用：</p>
<p>1 <strong>非限定名称，或不包含前缀的类名</strong><br>    例如 $comment = new Comment();。如果当前命名空间是Blog\Article，Comment将被解析为Blog\Article\Comment。如果使用Comment的代码不包含在任何命名空间中的代码（全局空间中），则Comment会被解析为Comment。<br>    NOTE: 若命名空间中的函数或常量未定义，则该名称会被解析为全局名称。</p>
<p>2 <strong>限定名称，或包含前缀的名称</strong><br>    例如 $comment = new Article\Comment();。如果当前的命名空间是Blog，则Comment会被解析为Blog\Article\Comment。如果使用Comment的代码不包含在任何命名空间中的代码（全局空间中），则Comment会被解析为Comment。</p>
<p>3 <strong>完全限定名称，或包含了全局前缀操作符的名称</strong><br>    例如 $comment = new \Article\Comment();。在这种情况下，Comment总是被解析为代码中的文字名(literal name)Article\Comment。</p>
<p>这三者可以类比为文件名，相对路径名和绝对路径名。<br>NOTE: 访问任意全局类，函数或常量都可以使用完全限定名称。<br>例如：</p>
<pre><code class="php">&lt;?php
namespace Foo;

function strlen() {}
const INI_ALL = 3;
class Exception {}

$a = \strlen(&#39;hi&#39;); // 调用全局函数strlen
$b = \INI_ALL; // 访问全局常量 INI_ALL
$c = new \Exception(&#39;error&#39;); // 实例化全局类 Exception
?&gt;
</code></pre>
<h2 id="3-子命名空间"><a href="#3-子命名空间" class="headerlink" title="3 子命名空间"></a>3 子命名空间</h2><p>PHP允许指定层次化的命名空间。<br>子空间也可以定义多层。</p>
<p>例如：</p>
<pre><code class="php">&lt;?php
//我用这样的命名空间表示处于blog下的article模块
namespace Blog\Article;
class Comment { }

//我用这样的命名空间表示处于blog下的message board模块
namespace Blog\MessageBoard;
class Comment { }

//调用当前空间即MessageBoard的类
$comment = new Comment();
//调用Blog\Article空间的类
$article_comment = new \Blog\Article\Comment();
?&gt;
</code></pre>
<h2 id="4-别名和导入"><a href="#4-别名和导入" class="headerlink" title="4 别名和导入"></a>4 别名和导入</h2><p>别名和导入可以看作是调用命名空间元素的一种快捷方式。<br><em>PHP不支持导入函数或常量。</em><br><strong>别名与导入都是通过use操作符实现</strong>,别名：use…as…;导入：use…;（这一点很像SQL，笑）<br>NOTE: 注意导入时两个命名空间不能有相同名字的元素。</p>
<pre><code class="php">&lt;?php
namespace Blog\Article;
class Comment { }

//创建一个BBS空间
namespace BBS;
//导入一个命名空间
use Blog\Article;
//导入命名空间后可使用限定名称调用元素
$article_comment = new Article\Comment();

//为命名空间使用别名
use Blog\Article as Arte;
//使用别名代替空间名
$article_comment = new Arte\Comment();

//导入一个类
use Blog\Article\Comment;
//导入类后可使用非限定名称调用元素
$article_comment = new Comment();
//为类使用别名
use Blog\Article\Comment as Comt;
//使用别名代替空间名
$article_comment = new Comt();
?&gt;
</code></pre>
<h2 id="5-namespace关键字与-NAMESPACE-常量"><a href="#5-namespace关键字与-NAMESPACE-常量" class="headerlink" title="5 namespace关键字与__NAMESPACE__常量"></a>5 namespace关键字与__NAMESPACE__常量</h2><ul>
<li>关键字namespace可以用来显示访问当前命名空间或子命名空间中的元素，等价于类中的self操作符。</li>
<li>常量__NAMESPACE__的值是包含当前命名空间名称的字符串。全局中的不包括在任何命名空间中的代码，该常量为一个空的字符串。 </li>
</ul>
<h2 id="6-命名空间的顺序"><a href="#6-命名空间的顺序" class="headerlink" title="6 命名空间的顺序"></a>6 命名空间的顺序</h2><p>PHP中名称解析遵循以下规则：</p>
<p>1 对<strong>完全限定名称</strong>的函数，类和常量的调用在编译时解析。例如 new \A\B 解析为类 A\B。</p>
<p>2 所有的<strong>非限定名称和限定名称（非完全限定名称）</strong>根据当前的导入规则在编译时进行转换。例如，如果命名空间 A\B\C 被导入为 C，那么对 C\D\e() 的调用就会被转换为 A\B\C\D\e()。 </p>
<p>3 在命名空间内部，所有的<em>没有根据导入规则转换</em>的<strong>限定名称</strong>均会在其前面加上当前的命名空间名称。例如，在命名空间 A\B 内部调用 C\D\e()，则 C\D\e() 会被转换为 A\B\C\D\e() 。</p>
<p>4 <strong>非限定类名称</strong>根据当前的导入规则在编译时转换（用全名代替短的导入名称）。例如，如果命名空间 A\B\C 导入为C，则 new C() 被转换为 new A\B\C() 。 </p>
<p>5 在命名空间内部，对<strong>非限定名称</strong>的函数调用是在运行时解析的。<br>  例如对函数 foo() 的调用是这样解析的：</p>
<ul>
<li><p>在当前命名空间中查找名为 A\B\foo() 的函数</p>
</li>
<li><p>尝试查找并调用 全局(global) 空间中的函数 foo()。</p>
</li>
</ul>
<p>6 在命名空间内部对<strong>非限定名称或限定名称类（非完全限定名称）</strong>的调用是在运行时解析的。</p>
<p>  例如调用new C()时的解析过程：</p>
<ul>
<li>在当前命名空间中查找A\B\C类。 </li>
<li><p>尝试自动加载类A\B\C。</p>
<p>而new D\E()的解析过程：</p>
</li>
<li><p>在类名称前面加上当前命名空间名称变成：A\B\D\E，然后查找该类。 </p>
</li>
<li>尝试自动加载类 A\B\D\E。 </li>
</ul>
<p>以一个例子解释（例子来源：<a href="http://www.golaravel.com/php/language.namespaces.rules.html" target="_blank" rel="noopener">PHP中文手册</a>）:</p>
<pre><code class="php">
&lt;?php
namespace A;
use B\D, C\E as F;

// 函数调用

foo();      // 首先尝试调用定义在命名空间&quot;A&quot;中的函数foo()
            // 再尝试调用全局函数 &quot;foo&quot;

\foo();     // 调用全局空间函数 &quot;foo&quot; 

my\foo();   // 调用定义在命名空间&quot;A\my&quot;中函数 &quot;foo&quot; 

F();        // 首先尝试调用定义在命名空间&quot;A&quot;中的函数 &quot;F&quot; 
            // 再尝试调用全局函数 &quot;F&quot;

// 类引用

new B();    // 创建命名空间 &quot;A&quot; 中定义的类 &quot;B&quot; 的一个对象
            // 如果未找到，则尝试自动装载类 &quot;A\B&quot;

new D();    // 使用导入规则，创建命名空间 &quot;B&quot; 中定义的类 &quot;D&quot; 的一个对象
            // 如果未找到，则尝试自动装载类 &quot;B\D&quot;

new F();    // 使用导入规则，创建命名空间 &quot;C&quot; 中定义的类 &quot;E&quot; 的一个对象
            // 如果未找到，则尝试自动装载类 &quot;C\E&quot;

new \B();   // 创建定义在全局空间中的类 &quot;B&quot; 的一个对象
            // 如果未发现，则尝试自动装载类 &quot;B&quot;

new \D();   // 创建定义在全局空间中的类 &quot;D&quot; 的一个对象
            // 如果未发现，则尝试自动装载类 &quot;D&quot;

new \F();   // 创建定义在全局空间中的类 &quot;F&quot; 的一个对象
            // 如果未发现，则尝试自动装载类 &quot;F&quot;

// 调用另一个命名空间中的静态方法或命名空间函数

B\foo();    // 调用命名空间 &quot;A\B&quot; 中函数 &quot;foo&quot;

B::foo();   // 调用命名空间 &quot;A&quot; 中定义的类 &quot;B&quot; 的 &quot;foo&quot; 方法
            // 如果未找到类 &quot;A\B&quot; ，则尝试自动装载类 &quot;A\B&quot;

D::foo();   // 使用导入规则，调用命名空间 &quot;B&quot; 中定义的类 &quot;D&quot; 的 &quot;foo&quot; 方法
            // 如果类 &quot;B\D&quot; 未找到，则尝试自动装载类 &quot;B\D&quot;

\B\foo();   // 调用命名空间 &quot;B&quot; 中的函数 &quot;foo&quot; 

\B::foo();  // 调用全局空间中的类 &quot;B&quot; 的 &quot;foo&quot; 方法
            // 如果类 &quot;B&quot; 未找到，则尝试自动装载类 &quot;B&quot;

// 当前命名空间中的静态方法或函数

A\B::foo();   // 调用命名空间 &quot;A\A&quot; 中定义的类 &quot;B&quot; 的 &quot;foo&quot; 方法
              // 如果类 &quot;A\A\B&quot; 未找到，则尝试自动装载类 &quot;A\A\B&quot;

\A\B::foo();  // 调用命名空间 &quot;A\B&quot; 中定义的类 &quot;B&quot; 的 &quot;foo&quot; 方法
              // 如果类 &quot;A\B&quot; 未找到，则尝试自动装载类 &quot;A\B&quot;
?&gt;
</code></pre>
<p>滚去睡觉了，goodnight。</p>
<hr>
]]></content>
      
        <categories>
            
            <category> PHP </category>
            
        </categories>
        
        
        <tags>
            
            <tag> PHP </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Introduction of IU - First Edition]]></title>
      <url>/2017/04/02/Introduction-of-IU-First-Edition/</url>
      <content type="html"><![CDATA[<h1 id="HTML学习-Introduction-of-IU-1st-Edition"><a href="#HTML学习-Introduction-of-IU-1st-Edition" class="headerlink" title="HTML学习 - Introduction of IU(1st Edition)"></a>HTML学习 - Introduction of IU(1st Edition)</h1><hr>
<p>这两天在<a href="http://www.freecodecamp.cn/" target="_blank" rel="noopener">FreeCodeCamp</a>上学习前端（顺便推荐一下这个网站），第一个project是写一个<a href="http://www.freecodecamp.cn/challenges/build-a-tribute-page" target="_blank" rel="noopener">Tribute page</a>。刚好最近沉迷于女神IU的美色无法自拔，就用纯html为IU写了个Introduction Page，数据来源<a href="https://en.wikipedia.org/wiki/IU(singer)" target="_blank" rel="noopener">Wiki Pedia</a>。</p>
<p>第一版为了在FreeCodeCamp上提交project，写得很粗略，布局配色什么的也都没考虑。先贴地址: <a href="https://kathyflores.github.io/FreeCodeCamp/Build_a_Tribute_Page/IU_page.html" target="_blank" rel="noopener">IU_page</a>.</p>
<p>主要利用了bootstrap框架，最近学的东西有点多，来不及写bootstrap的笔记了，之后补上。</p>
<p>最后附上源码：</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
    &lt;head&gt;
      &lt;meta charset=&quot;utf-8&quot;&gt;
            &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.bootcss.com/bootstrap/3.3.1/css/bootstrap.min.css&quot;/&gt;
            &lt;!-- bootstrap --&gt;
            &lt;style&gt;
                body {
                  margin-top: 60px;
                  background-color: #F5F5F5;
                }
            &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
            &lt;div class=&quot;container&quot;&gt;
              &lt;div class=&quot;row clearfix&quot;&gt;
                &lt;div class=&quot;col-xs-12 column&quot;&gt;
                  &lt;div class=&quot;jumbotron&quot;&gt;
                    &lt;h1 class=&quot;text-primary&quot;&gt;Lee Ji-eun&lt;/h1&gt;
                    &lt;p&gt;&lt;strong&gt;Lee Ji-eun&lt;/strong&gt; (Korean: &lt;span&gt;이지은&lt;/span&gt;; born May 16, 1993), better known by her stage name &lt;span class=&quot;text-primary&quot;&gt;&lt;strong&gt;IU&lt;/strong&gt;&lt;/span&gt; (Korean: &lt;span&gt;아이유&lt;/span&gt;), is a South Korean singer, songwriter and actress.&lt;/p&gt;
                    &lt;img class=&quot;img-rounded img-responsive center-block&quot; src=&quot;https://kathyflores.github.io/img/pic1.jpg&quot;&gt;
                    &lt;p&gt;
                      &lt;/br&gt;
                      &lt;a class=&quot;btn btn-primary btn-large&quot; href=&quot;https://en.wikipedia.org/wiki/IU_(singer)&quot; target=&quot;_blank&quot;&gt;Learn more&lt;/a&gt;
                    &lt;/p&gt;
                  &lt;/div&gt;
                &lt;/div&gt;
              &lt;/div&gt;
              &lt;div class=&quot;row clearfix&quot;&gt;
                &lt;div class=&quot;col-xs-6 column&quot;&gt;
                  &lt;h2 class=&quot;text-center text-info&quot;&gt;&lt;strong&gt;Career&lt;/strong&gt;&lt;/h2&gt;
                  &lt;ul&gt;
                    &lt;li&gt;&lt;strong&gt;2008–2009&lt;/strong&gt;: Career beginnings&lt;/li&gt;
                    &lt;li&gt;&lt;strong&gt;2010–2011&lt;/strong&gt;: Rising popularity and acting debut&lt;/li&gt;
                    &lt;li&gt;&lt;strong&gt;2012&lt;/strong&gt;: Japanese debut and first solo concert tour&lt;/li&gt;
                    &lt;li&gt;&lt;strong&gt;2013&lt;/strong&gt;: First starring roles and Modern Times&lt;/li&gt;
                    &lt;li&gt;&lt;strong&gt;2014&lt;/strong&gt;: A Flower Bookmark&lt;/li&gt;
                    &lt;li&gt;&lt;strong&gt;2015–2016&lt;/strong&gt;: The Producers, Infinite Challenge, Chat-Shire, and Moon Lovers: Scarlet Heart Ryeo&lt;/li&gt;
                    &lt;li&gt;&lt;strong&gt;2017–present&lt;/strong&gt;: fourth studio album&lt;/li&gt;
                  &lt;/ul&gt;
                &lt;/div&gt;
                &lt;div class=&quot;col-xs-6 column&quot;&gt;
                  &lt;h2 class=&quot;text-center text-info&quot;&gt;&lt;strong&gt;Film&lt;/strong&gt;&lt;/h2&gt;
                  &lt;/br&gt;
                  &lt;table class=&quot;table table-hover table-condensed&quot;&gt;
                    &lt;thead&gt;
                      &lt;tr&gt;
                        &lt;th&gt;Year&lt;/th&gt;
                        &lt;th&gt;Title&lt;/th&gt;
                        &lt;th&gt;Role&lt;/th&gt;
                        &lt;th&gt;Notes&lt;/th&gt;
                      &lt;/tr&gt;
                    &lt;/thead&gt;
                    &lt;tbody&gt;
                      &lt;tr&gt;
                        &lt;td&gt;2012&lt;/td&gt;
                        &lt;td&gt;A Turtle&#39;s Tale 2: Sammy&#39;s Escape from Paradise&lt;/td&gt;
                        &lt;td&gt;Ella&lt;/td&gt;
                        &lt;td&gt;Korean dub&lt;/td&gt;
                      &lt;/tr&gt;
                      &lt;tr&gt;
                        &lt;td&gt;2017&lt;/td&gt;
                        &lt;td&gt;Real&lt;/td&gt;
                        &lt;td&gt;&lt;/td&gt;
                        &lt;td&gt;Cameo&lt;/td&gt;
                      &lt;/tr&gt;
                    &lt;/tbody&gt;
                  &lt;/table&gt;
                &lt;/div&gt;
              &lt;/div&gt;
              &lt;/br&gt;
              &lt;div class=&quot;row clearfix&quot;&gt;
                &lt;div class=&quot;col-xs-12 column&quot;&gt;
                  &lt;h2 class=&quot;text-center text-info&quot;&gt;&lt;strong&gt;Television drama&lt;/strong&gt;&lt;/h2&gt;
                  &lt;table class=&quot;table table-condensed table-hover&quot;&gt;
                    &lt;thead&gt;
                      &lt;tr&gt;
                        &lt;th&gt;Year&lt;/th&gt;
                        &lt;th&gt;Title&lt;/th&gt;
                        &lt;th&gt;Role&lt;/th&gt;
                        &lt;th&gt;Notes&lt;/th&gt;
                      &lt;/tr&gt;
                    &lt;/thead&gt;
                    &lt;tbody&gt;
                      &lt;tr&gt;
                        &lt;td&gt;2011&lt;/td&gt;
                        &lt;td&gt;Dream High&lt;/td&gt;
                        &lt;td&gt;Kim Pil-suk&lt;/td&gt;
                        &lt;td&gt;Main cast:
                          &lt;ul&gt;
                            &lt;li&gt;Nominated – KBS Drama Award for Best New Actress&lt;/li&gt;
                            &lt;li&gt;Nominated – KBS Drama Award for Best Couple with Jang Wooyoung&lt;/li&gt;
                            &lt;li&gt;Nominated – Baeksang Arts Award for Most Popular Actress (TV)&lt;/li&gt;
                            &lt;li&gt;Nominated – Mnet Asian Music&lt;/li&gt;
                            &lt;li&gt;Award for Best O.S.T. for Someday&lt;/li&gt;
                          &lt;/ul&gt;
                        &lt;/td&gt;
                      &lt;/tr&gt;
                      &lt;tr&gt;
                        &lt;td&gt;2011&lt;/td&gt;
                        &lt;td&gt;Welcome to the Show&lt;/td&gt;
                        &lt;td&gt;Herself&lt;/td&gt;
                        &lt;td&gt;Episode 1&lt;/td&gt;
                      &lt;/tr&gt;
                      &lt;tr&gt;
                        &lt;td&gt;2012&lt;/td&gt;
                        &lt;td&gt;Dream High 2&lt;/td&gt;
                        &lt;td&gt;Kim Pil-suk&lt;/td&gt;
                        &lt;td&gt;Episode 1 (cameo)&lt;/td&gt;
                      &lt;/tr&gt;
                      &lt;tr&gt;
                        &lt;td&gt;2012&lt;/td&gt;
                        &lt;td&gt;Salamander Guru and The Shadows&lt;/td&gt;
                        &lt;td&gt;Pickpocket Jieun&lt;/td&gt;
                        &lt;td&gt;Episode 6 (cameo)&lt;/td&gt;
                      &lt;/tr&gt;
                      &lt;tr&gt;
                        &lt;td&gt;2013&lt;/td&gt;
                        &lt;td&gt;You&#39;re the Best, Lee Soon-shin&lt;/td&gt;
                        &lt;td&gt;Lee Soon-shin&lt;/td&gt;
                        &lt;td&gt;Lead role:
                          &lt;ul&gt;
                            &lt;li&gt;Won – KBS Drama Award for Best New Actress (also for Bel Ami)&lt;/li&gt;
                            &lt;li&gt;Won – KBS Drama Award for Best Couple with Jo Jung-suk&lt;/li&gt;
                            &lt;li&gt;Nominated – KBS Drama Awards&#39; Excellence Award for Actress in a Serial Drama&lt;/li&gt;
                            &lt;li&gt;Nominated – Baeksang Arts Award for Most Popular Actress (TV)&lt;/li&gt;
                          &lt;/ul&gt;
                        &lt;/td&gt;
                                &lt;/tr&gt;
                                &lt;tr&gt;
                                    &lt;td&gt;2013&lt;/td&gt;
                                    &lt;td&gt;Bel Ami&lt;/td&gt;
                                    &lt;td&gt;Kim Bo-tong&lt;/td&gt;
                                    &lt;td&gt;Lead role:
                                        &lt;ul&gt;
                                            &lt;li&gt;Won – KBS Drama Award for Best New Actress (also for You&#39;re the Best, Lee Soon-shin)&lt;/li&gt;
                                            &lt;li&gt;Nominated – KBS Drama Award for Best Couple with Jang Keun-suk&lt;/li&gt;
                                            &lt;li&gt;Nominated – Seoul International Drama Award for Outstanding Korean Actress&lt;/li&gt;
                                            &lt;li&gt;Nominated – Seoul International Youth Film Festival for Best Young Actress&lt;/li&gt;
                                        &lt;/ul&gt;
                                    &lt;/td&gt;
                                &lt;/tr&gt;
                                &lt;tr&gt;
                                    &lt;td&gt;2015&lt;/td&gt;
                                    &lt;td&gt;The Producers&lt;/td&gt;
                                    &lt;td&gt;Cindy&lt;/td&gt;
                                    &lt;td&gt;Lead role:
                                        &lt;ul&gt;
                                            &lt;li&gt;Nominated – KBS Drama Awards&#39; Popularity Award for Actress&lt;/li&gt;
                                            &lt;li&gt;Nominated – KBS Drama Award for Best Couple with Kim Soo-hyun&lt;/li&gt;
                                            &lt;li&gt;Nominated – Korea Drama Awards&#39; Excellence Award for Actress&lt;/li&gt;
                                            &lt;li&gt;Nominated – APAN Star Awards&#39; Excellence Award for Actress in a Miniseries&lt;/li&gt;
                                        &lt;/ul&gt;
                                    &lt;/td&gt;
                                &lt;/tr&gt;
                                &lt;tr&gt;
                                    &lt;td&gt;2016&lt;/td&gt;
                                    &lt;td&gt;Moon Lovers: Scarlet Heart Ryeo&lt;/td&gt;
                                    &lt;td&gt;Go Ha-jin/Hae-soo&lt;/td&gt;
                                    &lt;td&gt;Lead role:
                                        &lt;ul&gt;
                                            &lt;li&gt;Won – SBS Drama Awards Best Couple Award with Lee Joon-gi&lt;/li&gt;
                                            &lt;li&gt;Won – SBS Drama Awards Idol Academy Award, Heart-wrenching Award&lt;/li&gt;
                                            &lt;li&gt;Nominated – SBS Drama Awards K-Wave (Hallyu) Star Award&lt;/li&gt;
                                        &lt;/ul&gt;
                                    &lt;/td&gt;
                                &lt;/tr&gt;
                    &lt;/tbody&gt;
                  &lt;/table&gt;
                &lt;/div&gt;
              &lt;/div&gt;
              &lt;footer class=&quot;text-center&quot;&gt;
                  &lt;hr&gt;
                  &lt;p&gt;© Coded by &lt;a href=&quot;https://github.com/KathyFlores&quot; target=&quot;_blank&quot;&gt;KathyFlores&lt;/p&gt;
              &lt;/footer&gt;
            &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>最后的最后，再推荐一个可以在线编辑HTML、CSS、JS的网站，个人觉得还不错：<a href="https://codepen.io/" target="_blank" rel="noopener">https://codepen.io/</a></p>
]]></content>
      
        <categories>
            
            <category> html </category>
            
        </categories>
        
        
        <tags>
            
            <tag> html </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[PHP魔术变量]]></title>
      <url>/2017/04/01/PHP-%E9%AD%94%E6%9C%AF%E5%8F%98%E9%87%8F/</url>
      <content type="html"><![CDATA[<h1 id="魔术变量"><a href="#魔术变量" class="headerlink" title="魔术变量"></a>魔术变量</h1><hr>
<p>PHP在设计的时候已经预定义了9个超级全局变量、8个魔术变量和13魔术函数，这些变量与函数可以在脚本的任何地方使用（不用预先声明）。魔术变量不区分大小写。</p>
<h2 id="1-LINE"><a href="#1-LINE" class="headerlink" title="1 __LINE__"></a>1 <strong>__LINE__</strong></h2><p>文件中的 <em>当前行号</em> 。<br>EXAMPLE:</p>
<pre><code class="php">&lt;?php
echo &#39;这是第 &quot; &#39;  . __LINE__ . &#39; &quot; 行&#39;;
?&gt;
</code></pre>
<p><strong>OUTPUT</strong>: 这是第 “ 2 “ 行</p>
<h2 id="2-FILE"><a href="#2-FILE" class="headerlink" title="2 __FILE__"></a>2 <strong>__FILE__</strong></h2><p>文件的 <em>完整路径</em> 和 <em>文件名</em> 。<br>若用在被包含文件中，则返回被包含的文件名。<br>NOTE: 超全局变量$_SERVER[‘PHP_SELF’]只返回文件名，而无绝对路径。<br>EXAMPLE:</p>
<pre><code class="php">&lt;?php
echo &#39;该文件位于 &quot; &#39;  . __FILE__ . &#39; &quot; &#39;;
?&gt;
</code></pre>
<p><strong>OUTPUT</strong>: 该文件位于 “ D:\php-7.1.3-src\Apache24\htdocs\getuser.php “ </p>
<h2 id="3-DIR"><a href="#3-DIR" class="headerlink" title="3 __DIR__"></a>3 <strong>__DIR__</strong></h2><p>文件 <em>所在的目录</em> 。<br>若用在被包括文件中，则返回被包括的文件所在的目录。<br>等价于dirname(__FILE__)。<br>NOTE：不包括末尾的斜杠，除非是根目录。<br>EXAMPLE:</p>
<pre><code class="php">&lt;?php
echo &#39;该文件位于 &quot; &#39;  . __DIR__ . &#39; &quot; &#39;;
?&gt;
</code></pre>
<p><strong>OUTPUT</strong>: 该文件位于 “ D:\php-7.1.3-src\Apache24\htdocs “</p>
<h2 id="4-FUNCTION"><a href="#4-FUNCTION" class="headerlink" title="4 __FUNCTION__"></a>4 <strong>__FUNCTION__</strong></h2><p><em>函数名称</em> （区分大小写）。<br>EXAMPLE:</p>
<pre><code class="php">&lt;?php
function test() 
{
    echo  &#39;函数名为：&#39; . __FUNCTION__ ;
}
test();
?&gt;
</code></pre>
<p><strong>OUTPUT</strong>: 函数名为：test </p>
<h2 id="5-CLASS"><a href="#5-CLASS" class="headerlink" title="5 __CLASS__"></a>5 <strong>__CLASS__</strong></h2><p><em>类的名称</em> （区分大小写）。<br>NOTE:</p>
<ul>
<li>类名包括其被声明的作用区域。</li>
<li>对trait也起作用，在trait方法中使用，返回调用trait的类的名字。</li>
</ul>
<p>EXAMPLE:</p>
<pre><code class="php">&lt;?php
class test 
{
    function _print() 
    {
        echo &#39;类名为：&#39;  . __CLASS__ . &quot;&lt;br&gt;&quot;;
    }
}
$t = new test();
$t-&gt;_print();
?&gt;
</code></pre>
<p><strong>OUTPUT</strong>: 类名为：test</p>
<h2 id="6-TRAIT"><a href="#6-TRAIT" class="headerlink" title="6 __TRAIT__"></a>6 <strong>__TRAIT__</strong></h2><p><em>Trait的名字</em> 。<br>NOTE: trait名字包括其被声明的作用区域。<br>EXAMPLE:</p>
<pre><code class="php">&lt;?php
class Base 
{
    public function sayHello() 
    {
        echo &#39;Hello &#39;;
    }
}
trait SayWorld {
    public function sayHello() 
    {
        parent::sayHello();
        echo &#39;World!&#39;.__TRAIT__;
    }
}
class MyHelloWorld extends Base 
{
    use SayWorld;
}
$o = new MyHelloWorld();
$o-&gt;sayHello();
?&gt;
</code></pre>
<p><strong>OUTPUT</strong>: Hello World!SayWorld </p>
<h2 id="7-METHOD"><a href="#7-METHOD" class="headerlink" title="7 __METHOD__"></a>7 <strong>__METHOD__</strong></h2><p><em>方法名</em> ，与__FUNCTION__类似。</p>
<h2 id="8-NAMESPACE"><a href="#8-NAMESPACE" class="headerlink" title="8 __NAMESPACE__"></a>8 <strong>__NAMESPACE__</strong></h2><p><em>当前命名空间的名称</em> ，在编译时定义。<br>EXAMPLE:</p>
<pre><code class="php">&lt;?php
namespace MyProject;
echo &#39;命名空间为：&quot;&#39;, __NAMESPACE__, &#39;&quot;&#39;;
?&gt;
</code></pre>
<p><strong>OUTPUT</strong>: 命名空间为：MyProject</p>
<hr>
]]></content>
      
        <categories>
            
            <category> PHP </category>
            
        </categories>
        
        
        <tags>
            
            <tag> PHP </tag>
            
        </tags>
        
    </entry>
    
  
  
    
  
</search>
